# 第八章 使用函数

* [1.1 定义函数](#11-定义函数)

---

* [1.2 参数与局部变量](#12-参数与局部变量)

  * [1.2.1 函数原型声明](#121-函数原型声明)

  * [1.2.2 自动局部变量](#122-自动局部变量)

---

* [1.3 函数的返回值](#13-函数的返回值)

---

* [1.4 函数的调用](#14-函数的调用)

  * [1.4.1 声明返回值类型以及参数类型](#141-声明返回值类型以及参数类型)

  * [1.4.2 检查函数的参数](#142-检查函数的参数)

---

* [1.5 自顶向下的程序设计](#15-自顶向下的程序设计)

---

* [1.6 函数与数组](#16-函数与数组)

  * [1.6.1 赋值表达式](#161-赋值表达式)

  * [1.6.2 数组排序](#162-数组排序)

  * [1.6.3 多维数组](#163-多维数组)

  * [1.6.4 函数与可变长度的多维数组](#164-函数与可变长度的多维数组)

---

* [1.7 全局变量](#17-全局变量)

---

* [1.8 自动变量与静态变量](#18-自动变量与静态变量)

---

* [1.9 递归函数](#19-递归函数)

---

## 1.1 定义函数

1. >一个函数定义的第一行（按照从左到有的顺序）告诉编译器四件事情：1.谁能够调用这个函数；2.函数返回值的类型；3.函数的名字；4.函数的参数。
2. >与变量的选择类似，给函数选择一个有意义的名字是非常重要的。名字的选择往往大大地影响程序的可读性。
3. >C语言程序的执行总是从main开始。
4. >函数名称后面的一对小括号告诉编译器，这个名字代表一个函数，在调用函数的时候，我们没有给函数传递任何参数。当计算机执行函数调用的时候，程序的流程将跳转到该函数。
5. >在打印出程序内的消息之后，函数的执行就结束了。程序的执行流程重新回到了main函数中调用函数的地方。
6. >在函数的最后可以增加一条语句： *$return;$* 因为函数被定义为不返回任何值，所以这个 *$return;$* 语句后面没有数值。
7. >在不返回值的函数中，这个 *$return;$* 语句是可有可无的。
8. >printf和scanf函数也都是函数。它们与其他自定义的函数的主要区别在于，printf和scanf函数是标准库的一部分，我们不需要动手去编写它。
9. >无论是调用标准库的函数，还是调用自己编写的函数，在函数调用返回之后，计算机都接着执行调用函数那条语句后面的语句。

---

## 1.2 参数与局部变量

1. >在调用函数的时候，我们总是向函数传递了若干个值，第一个通常是格式化字符串，后面的值则是需要显示的程序计算结果，这些值在C语言中被称为函数参数。
2. >使用函数的参数可以大大增加函数的灵活性。
3. >我们可以自定义接收参数的函数。

---

### 1.2.1 函数原型声明

1. >在函数 *$void calculateTriangularNumber (int n)$* 中,这行语句被称为函数原型声明。它的作用是告诉编译器， *$calculateTriangularNumber$* 是一个函数。该函数不返回任何值（用关键字void标明），函数参数的正式名字是形式参数。
2. >形式参数的名字可以是任何C语言合法的变量名，在编写程序的名字时，应该给形式参数尽可能起一个有意义的名字。
3. >一旦定义了一个形式参数，就可以在函数体的任何地方引用这个形式参数。
4. >函数原型声明下面的左大括号表示函数体正式开始，同样，我们还需要定义一个变量用作循环下标。
5. >这些变量的初始化方法和使用方法与以前在main函数中的使用方法相同。

---

### 1.2.2 自动局部变量

1. >在函数体内部的变量通常被称为自动局部变量。
2. >被称为自动局部变量是因为每次当函数被调用的时候，编译器自动创建这些变量，而且除了函数之外，程序的其他部分无法访问这些变量。
3. >如果在函数中声明变量的时候给期间赋予了初值，那么每次调用该函数的时候，该变量都会重新赋予该初值。
4. >从更规范一些的角度来讲，每次在函数体内定义变量的时候，都应该使用auto这个关键字。因为c语言编译器默认任何在函数体内部定义的变量都是自动局部变量，所以在编程实践中，我们通常省略auto这个关键字。

---

## 1.3 函数的返回值

1. >很多时候，我们并不想显示计算的结果，为此，C语言提供了一种方便的机制--函数的返回值，利用这种机制，一个函数可以将某个值返回给它的调用者。
2. >在函数中返回一个值通常采用如下的语法形式：return 表达式；这个语句将表达式的值返回给函数的调用者。
3. >有些程序员习惯在表达式的周围加上小括号，这属于个人风格，这些小括号本身并不是必须的。
4. >如果要从一个函数中返回一个值，仅仅使用return语句本身还不够，还需要在声明函数的时候声明函数的返回值类型。这个声明应该放在函数名之前。
5. >所有的main函数名前面都有一个关键字int。
6. >我们不一定必须把函数的返回值保存在某个变量中，在main函数中，我们也可以把函数的返回值直接传递给printf函数，然后printf函数再将其结果显示出来。
7. >C语言的函数只能够返回一个值。
8. >不像其他的编程语言，C语言对于函数和过程并不区分，C语言中只有函数，每个函数可以返回一个值，或者不返回值。
9. >如果我们在声明函数的时候不指定函数的返回值类型，那么编译器就假定该函数返回一个整型数--如果这个函数最终返回值的话。
10. >我们应该尽力避免省略对于函数返回值类型的声明，这是一种不好的编程习惯，应该尽力避免。
11. >在函数的声明语句中，我们在函数名前面加上了关键字void，随后如果我们像下面这条语句那样使用该函数，编译器就会报告错误信息：number = calcuteTriangularNumber(20);从某种意义是上来讲，void类型就是没有数据类型，因此如果一个函数声明其返回值是void类型，就是说该函数并不返回值，因此不能用在表达式中。
12. >当我们在函数中改变形式参数的值的时候，绝对不会影响到变量的值。实际上，当我们把变量的值作为参数传递给函数的时候，系统会自动将该变量的值拷贝到形式参数中。随后，在函数之中对于形式参数的任何修改，都不会影响到变量。也就是说，一个函数永远无法修改它的参数的值，它只能修改这些参数的拷贝。
13. >我们传递给函数的参数应该和函数声明的参数类型一致。
14. >如果我们没有在程序中使用类型转换操作符将整型变量转换为浮点型的变量，那么编译器会自动进行转换（编译器根据函数的声明已经得知函数需要的参数类型）。当然，我们也可以手动进行类似的转换，而不是依赖系统完成这些工作，这样可以使得程序显得更清楚一些。
15. >编译器在对函数的返回值进行处理的时候，依然使用我们前面讨论过的算术表达式求值规则。若函数的返回的值是一个浮点数时，编译器将除法表达式看作是一个浮点数除以一个整型数。由于除法操作数之一是一个浮点数，因此整个除法操作数都是用浮点算术规则。

---

## 1.4 函数的调用

1. >在书中示例8.8中，函数absoluteValue和函数squareRoot的形式参数的名字都是x,C语言编译器会自动区分它们，而不会产生混乱。
2. >实际上，每个函数都有自己的形式参数，因此函数absoluteValue和函数squareRoot的形式参数是完全不同的。
3. >在多个函数内，我们可以任意声明多个同名的变量。
4. >由于一个函数内定义的变量，也就是局部变量，只能在那个函数内部被访问，因此C语言编译器不会把它们搞混。也就是说，函数内部定义的变量，其作用域范围就是该函数。

---

### 1.4.1 声明返回值类型以及参数类型

1. >C语言的编译器在遇到函数调用的时候，将假定函数的返回值是整型数，除非遇到 以下两种情况：一个是在函数调用语句之前，编译器已经“看到了”该函数的具体定义；另一个是在函数的调用语句之前，编译器已经“看到了”该函数的声明。
2. >函数的原型声明不但可以告诉编译器函数的返回值类型，还包括函数需要的参数个数以及它们的数据类型。
3. >在声明函数原型的时候，我们可以只给出函数参数的类型而不必指定其名字，我们也可以在函数声明的时候给出参数的“哑”变量名，这个名字不必和函数 定义时使用的参数名称相同，编译器将忽略这里给出的名字。
4. >为了防止拼写错误，我们可以简单地将函数定义过得第一行拷贝作为函数的声明，另外读者需要记住在函数声明的后面有一个分号。
5. >如果函数不需要任何参数，我们可以在函数参数括号之间使用关键字void。我们也需要在声明的时候指出这一点，以防止编译器将函数用于表达式中。
6. >如果函数接收不定数目的参数（比如printf函数和scanf函数），我们可以用下面的方式通知编译器：int printf(char* format,\cdot\cdot\cdot);
7. >在int printf(char* format,\cdot\cdot\cdot);这个声明中，它告诉了编译器，printf函数的第一个参数是字符型指针。在这个参数后还可以有任意多个参数（用\cdot\cdot\cdot）说明。
8. >文件stdio.h中包含了printf函数和scanf函数的原型声明，这也是我们为什么要在我们源文件开始放上如下代码：*$#include <stdio.h>$* 的原因。
9. >如果在程序的一开始没有这些声明，编译器将假定printf函数和scanf函数接收固定多个参数，并生成不正确的可执行代码。
10. >编译器只有在已经看到了函数的定义或者函数原型的情况下，才能在函数调用的时候进行适当的类型转换，因此函数的声明是非常重要的。

---

### 1.4.2 检查函数的参数

1. >如果程序的循环结束条件永远都不会满足，程序将进入一个无限循环的局面，那么为了结束程序，我们必须在终端上按下某些特殊的键（比如ctrl+C)。
2. >C语言的标准库函数sqrt在接收一个负数参数时，将返回错误值domain error。这个符号的具体值是“和”实现相关的，在某些系统中，如果我们试图显示这个数字，将得到结果nan，这个意思是不是一个数字（not a number）。
3. >在单个的函数中可以有多个return语句，当程序遇到return语句的时候，控制流程将会立刻回到调用者，return语句后面的所有语句都不再被执行了。
4. >对于那些不返回任何值的函数来说，return语句的这种用法非常方便，只要采用return;的简单形式就可以达到效果。
5. >对于需要返回某个值的函数来说，就不能使用这种形式return语句了。

---

## 1.5 自顶向下的程序设计

---

## 1.6 函数与数组

---

### 1.6.1 赋值表达式

---

### 1.6.2 数组排序

---

### 1.6.3 多维数组

---

### 1.6.4 函数与可变长度的多维数组

---

### 1.7 全局变量

---

### 1.8 自动变量与静态变量

---

### 1.9 递归函数

---
